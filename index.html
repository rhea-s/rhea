<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rhea Singh â€” Visual Resume</title>
  <style>
    /* --- Base reset & layout --- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 50% 30%, #ffeef6 0%, #fdebf5 30%, #f7e6f1 55%, #f4eefa 100%);
      color: #0f172a;
      overflow-x: hidden;
    }

    .container {
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 3rem 1rem 4rem;
    }

    /* --- Card --- */
    .card {
      position: relative;
      width: min(680px, 86vw);
      background: rgba(255,255,255,0.75);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(15,23,42,.06);
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(15,23,42,.1);
      padding: 28px 28px 20px;
    }

    .header {
      display: grid;
      grid-template-columns: 1fr;
      justify-items: center;
      gap: 16px;
    }

    .name {
      font-weight: 700;
      font-size: clamp(20px, 3.5vw, 28px);
      letter-spacing: 0.2px;
    }

    .subtitle {
      font-size: clamp(14px, 2.2vw, 16px);
      color: #475569;
    }

    /* --- Avatar Stage --- */
    .stage {
      position: relative;
      width: min(380px, 64vw);
      aspect-ratio: 1/1; /* square */
      border-radius: 50%;
      background: radial-gradient(65% 65% at 50% 40%, #fff 0%, #fff 55%, #ffeef6 100%);
      box-shadow: inset 0 4px 24px rgba(15,23,42,.06);
      display: grid;
      place-items: center;
      overflow: hidden; /* to clip pupils */
      margin: 10px auto 2px;
      user-select: none;
      -webkit-user-drag: none;
    }

    /* --- Avatar Image --- */
    .avatar {
      position: relative;
      width: 120%;
      height: auto;
      transform: translateY(-40px);
      display: block;
      pointer-events: none; /* allow mouse to pass through */
    }

    /* --- Eye system ---
       The pupils are separate absolutely-positioned elements that we translate within a max radius.
       Adjust the CSS variables below to match your avatar's eye centers & socket sizes.
    */
    :root {
      /* Tuned for your uploaded avatar_no-pupils.png (768Ã—768) */
      --eye-left-x: 43.2%;
      --eye-left-y: 35.3%;
      --eye-right-x: 56.8%;
      --eye-right-y: 35.3%;
      --pupil-size: 10px; /* smaller pupil for your art */
      --pupil-radius: 2px; /* max travel in px */
    }

    .pupil {
      position: absolute;
      width: var(--pupil-size);
      height: var(--pupil-size);
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #1f2937 0 45%, #0b1220 46% 100%);
      /* Start centered; JS will transform from center. */
      transform: translate(-50%, -50%);
      will-change: transform;
      transition: transform 120ms cubic-bezier(.2,.6,.2,1);
    }

    .pupil.left  { left:  var(--eye-left-x);  top: var(--eye-left-y); }
    .pupil.right { left:  var(--eye-right-x); top: var(--eye-right-y); }

    /* Desktop only: disable on coarse pointers */
    @media (pointer: coarse) {
      .pupil { display: none; }
    }

    /* Respect motion sensitivity */
    @media (prefers-reduced-motion: reduce) {
      .pupil { transition: none; }
    }

    /* --- Footer / Links --- */
    .links {
      margin-top: 22px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
    }
    .link {
      text-decoration: none;
      border: 1px solid rgba(15,23,42,.08);
      background: #fff;
      padding: 9px 14px;
      border-radius: 12px;
      font-size: 14px;
      color: #0f172a;
      transition: transform .16s ease, box-shadow .16s ease;
    }
    .link:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(15,23,42,.08); }

    .hint { text-align: center; color: #64748b; font-size: 12.5px; margin-top: 6px; }
  </style>
</head>
<body>
  <main class="container">
    <section class="card" aria-label="Visual resume header">
      <div class="header">
        <div class="stage" id="stage" aria-hidden="true">
          <!-- Replace the src below with your avatar art (PNG/SVG). Ideally, export the art with static eye whites (no pupils). -->
          <img class="avatar" draggable="false" alt="Avatar of Rhea Singh" src="assets/avatar_no-pupils.png" />

          <!-- Pupils layered on top. Adjust eye centers via the :root variables. -->
          <div class="pupil left"  id="pupilL" role="presentation"></div>
          <div class="pupil right" id="pupilR" role="presentation"></div>
        </div>
        <div class="name">Rhea Singh</div>
        <div class="subtitle">Software Engineer Â· Product/UX Â· Visual Storyteller</div>
      </div>

      <div class="links" aria-label="Primary links">
        <a class="link" href="#about">About</a>
        <a class="link" href="#work">Selected Work</a>
        <a class="link" href="#writing">Writing</a>
        <a class="link" href="#contact">Contact</a>
      </div>
      <p class="hint">Tip: move your cursor over the avatar ðŸ‘€</p>
    </section>
  </main>

  <script>
    // Eye-tracking logic with rAF throttling and clamped movement within a circle.
    (function () {
      const stage = document.getElementById('stage');
      const left = document.getElementById('pupilL');
      const right = document.getElementById('pupilR');

      // Respect: reduced motion and non-fine pointers (phones/tablets)
      const motionOK = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const finePointer = window.matchMedia('(pointer: fine)').matches;
      if (!motionOK || !finePointer) return; // bail out

      const MAX = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--pupil-radius')) || 7;

      let queued = false;
      let lastEvent = null;

      function clampMove(pupil, center) {
        const rect = stage.getBoundingClientRect();
        // Cursor position relative to stage
        const x = lastEvent.clientX - rect.left;
        const y = lastEvent.clientY - rect.top;

        const dx = x - center.x;
        const dy = y - center.y;
        const dist = Math.hypot(dx, dy) || 1;
        const m = Math.min(MAX, dist);
        const nx = (dx / dist) * m;
        const ny = (dy / dist) * m;

        pupil.style.transform = `translate(calc(-50% + ${nx}px), calc(-50% + ${ny}px))`;
      }

      function getCenter(pupil) {
        const r = pupil.getBoundingClientRect();
        return { x: r.left + r.width / 2 - stage.getBoundingClientRect().left,
                 y: r.top + r.height / 2 - stage.getBoundingClientRect().top };
      }

      function onMove(e) {
        lastEvent = e;
        if (!queued) {
          queued = true;
          requestAnimationFrame(() => {
            const cL = getCenter(left);
            const cR = getCenter(right);
            clampMove(left,  cL);
            clampMove(right, cR);
            queued = false;
          });
        }
      }

      function recenter() {
        left.style.transform = 'translate(-50%, -50%)';
        right.style.transform = 'translate(-50%, -50%)';
      }

      stage.addEventListener('mousemove', onMove);
      stage.addEventListener('mouseleave', recenter);
      window.addEventListener('resize', recenter);
    })();
  </script>
</body>
</html>
