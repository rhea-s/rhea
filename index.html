<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rhea Singh — Home Page</title>

  <!-- Preload critical images for faster rendering -->
  <link rel="preload" href="assets/avatar_no-eyes.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/avatar_eye-pupil.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/sf-background-day.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/avatar_base-complete-transparent.png" as="image" />
  <link rel="preload" href="assets/sf-background-night.png" as="image" />
  <link rel="preload" href="assets/nyc-background-day-2.png" as="image" />
  <link rel="preload" href="assets/nyc-background-night-2.png" as="image" />
  <link rel="preload" href="assets/bliss-background.png" as="image" />
  <link rel="preload" href="assets/bliss-background-night.png" as="image" />

  <style>
    /* --- Base reset & layout --- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
      color: #4a0e3d;
      overflow-x: hidden;
      overflow-y: auto;
      margin: 0;
    }

    .desktop {
      position: relative;
      min-height: 1000px;
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #f48fb1 100%);
      padding: 40px 20px 60px;
    }

    /* --- Retro Window Component System --- */
    :root {
      --pink-chrome: #e5b4d4;
      --pink-border: #d89fca;
      --pink-light: #f5e6f1;
      --text-dark: #4a0e3d;
      --text-muted: #8b6b83;
      --window-shadow: 0 8px 24px rgba(74, 14, 61, 0.15);

      /* Eye tracking variables */
      --eye-left-x: 42.9%;
      --eye-left-y: 40.6%;
      --eye-right-x: 57.2%;
      --eye-right-y: 40.6%;
      --pupil-size: 16px;
      --pupil-radius: 2.1px;
    }

    .window {
      position: absolute;
      background: rgba(255, 255, 255, 0.95);
      border: 2px hidden var(--pink-border);
      border-radius: 8px;
      box-shadow: var(--window-shadow);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .window:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(74, 14, 61, 0.2);
    }

    .window-titlebar {
      background: var(--pink-chrome);
      padding: 8px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--pink-border);
      user-select: none;
    }

    .window-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dark);
      flex: 1;
      text-align: center;
      letter-spacing: 0.3px;
    }

    .window-controls {
      display: flex;
      padding-right: 10px;
      gap: 6px;
    }

    .window-button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 1px solid rgba(74, 14, 61, 0.2);
      background: var(--pink-light);
      cursor: default;
    }

    .window-button.close { background: #f4a5b9; }
    .window-button.minimize { background: #f5d5e0; }
    .window-button.maximize { background: #f5e6f1; }

    /* Interactive close button for project windows */
    .project-window .window-button.close {
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .project-window .window-button.close:hover {
      background: #e8738d;
    }

    .theme-toggle {
      width: 44px;
      height: 22px;
      border-radius: 11px;
      background: rgba(200, 200, 200, 0.75);
      border: none;
      position: relative;
      cursor: pointer;
      transition: background-color 0.3s ease;
      flex-shrink: 0;
    }

    .theme-toggle:hover {
      opacity: 0.8;
    }

    .theme-toggle.active {
      background: rgba(200, 200, 200, 0.75);
    }

    .theme-toggle-knob {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
    }

    .theme-toggle.active .theme-toggle-knob {
      transform: translateX(25px);
    }

    .theme-toggle-icon {
      position: absolute;
      font-size: 12px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
      pointer-events: none;
      color: #4a0e3d;
    }

    .theme-toggle-icon.moon {
      left: 6px;
    }

    .theme-toggle-icon.sun {
      right: 6px;
    }

    .window-content {
      padding: 20px;
      overflow-y: auto;
    }

    /* --- FaceTime Window (Avatar) --- */
    .facetime-window {
      width: 360px;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      background: #1c1c1e;
    }

    .facetime-window:hover {
      transform: translateX(-50%);
      box-shadow: var(--window-shadow);
    }

    .facetime-content {
      padding: 0;
      width: 100%;
      position: relative;
      background-color: #1c1c1e;
    }

    .facetime-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--bg-image);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      z-index: 0;
      clip-path: circle(150% at 50% 40%);
    }

    /* Camera iris closing animation */
    .facetime-content.iris-close::before {
      animation: irisClose 0.3s ease-in forwards;
    }

    /* Camera iris opening animation */
    .facetime-content.iris-open::before {
      animation: irisOpen 0.3s ease-out forwards;
    }

    /* FaceTime background fade animations */
    .facetime-content.fade-out::before {
      animation: facetimeFadeOut 0.2s ease-out forwards;
    }

    .facetime-content.fade-in::before {
      animation: facetimeFadeIn 0.2s ease-out forwards;
    }

    @keyframes irisClose {
      from {
        clip-path: circle(150% at 50% 40%);
        filter: brightness(1);
      }
      to {
        clip-path: circle(0% at 50% 40%);
        filter: brightness(0.8);
      }
    }

    @keyframes irisOpen {
      from {
        clip-path: circle(0% at 50% 40%);
        filter: brightness(0.8);
      }
      to {
        clip-path: circle(150% at 50% 40%);
        filter: brightness(1);
      }
    }

    @keyframes facetimeFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }

    @keyframes facetimeFadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .avatar-stage {
      position: relative;
      z-index: 1;
      isolation: isolate;
      aspect-ratio: 8/7;
      display: grid;
      place-items: center;
      overflow: hidden;
      user-select: none;
      -webkit-user-drag: none;
    }

    .avatar {
      position: relative;
      z-index: 2;
      width: 120%;
      height: auto;
      transform: translateY(-40px);
      display: block;
      cursor: pointer;
    }

    .pupil-backdrop {
      position: absolute;
      top: 44%;
      left: 50%;
      width: calc(46% - 40px);
      height: 22%;
      background: #fff;
      transform: translate(-50%, -50%);
      border-radius: 12px;
      z-index: 0;
      pointer-events: none;
    }

    .pupil {
      position: absolute;
      z-index: 1;
      width: var(--pupil-size);
      height: var(--pupil-size);
      border-radius: 50%;
      background-image: url("assets/avatar_eye-pupil.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      transform: translate(-50%, -50%);
      will-change: transform;
      transition: transform 120ms cubic-bezier(.2,.6,.2,1);
    }

    .pupil.left  { left: var(--eye-left-x); top: var(--eye-left-y); }
    .pupil.right { left: var(--eye-right-x); top: var(--eye-right-y); }

    .speech-bubble {
      position: absolute;
      bottom: 38%;
      right: 5%;
      background: white;
      color: var(--text-dark);
      padding: 10px 10px;
      border-radius: 16px;
      border: 2px hidden var(--pink-border);
      box-shadow: 0 4px 12px rgba(74, 14, 61, 0.15);
      font-size: 14px;
      font-weight: 200;
      z-index: 3;
      animation: bubbleFadeIn 0.6s ease-out;
      white-space: nowrap;
    }

    .speech-bubble.night-mode {
      background: #1c1c1e;
      color: #f5e6f1;
    }

    @keyframes bubbleFadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes bubbleFadeUp {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(-15px);
      }
    }

    @keyframes bubbleFadeDown {
      from {
        opacity: 0;
        transform: translateY(15px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .avatar-info {
      padding: 16px;
      text-align: center;
      background: white;
      border-top: 1px solid var(--pink-border);
      position: relative;
      z-index: 1;
    }

    .avatar-name {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .avatar-subtitle {
      font-size: 13px;
      color: var(--text-muted);
    }

    /* --- Location Footer (integrated into FaceTime window) --- */
    .location-footer {
      padding: 10px 16px;
      background: white;
      border-top: 1px solid var(--pink-border);
      text-align: center;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
      letter-spacing: 0.2px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      position: relative;
      z-index: 1;
    }

    .online-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #27c93f;
      box-shadow: 0 0 0 2px rgba(39, 201, 63, 0.2);
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 0 2px rgba(39, 201, 63, 0.2);
      }
      50% {
        box-shadow: 0 0 0 4px rgba(39, 201, 63, 0.1);
      }
    }

    /* --- About/Education Window --- */
    .about-window {
      width: 420px;
      top: 80px;
      left: 80px;
      z-index: 5;
    }

    .section-heading {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 2px solid var(--pink-light);
    }

    .info-block {
      margin-bottom: 16px;
    }

    .info-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .info-subtitle {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .info-meta {
      font-size: 11px;
      color: var(--text-muted);
      font-style: italic;
    }

    .info-list {
      margin: 8px 0 0 0;
      padding-left: 18px;
      font-size: 12px;
      line-height: 1.6;
      color: var(--text-dark);
    }

    .info-list li {
      margin-bottom: 4px;
    }

    /* --- Experience Window --- */
    .experience-window {
      width: 480px;
      top: 540px;
      left: 37%;
      transform: translateX(-50%);
      z-index: 7;
      max-height: 400px;
    }

    .experience-window .window-content {
      max-height: 400px;
    }

    .job-item {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--pink-light);
    }

    .job-item:last-child {
      border-bottom: none;
    }

    .job-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 8px;
      gap: 12px;
    }

    .job-company {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-dark);
    }

    .job-role {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .job-date {
      font-size: 11px;
      color: var(--text-muted);
      white-space: nowrap;
    }

    /* --- Skills Window (System/Finder Style) --- */
    .skills-window {
      width: 270px;
      top: 380px;
      left: 100px;
      z-index: 6;
      background: white;
      border: 1px solid #d0d0d0;
    }

    .skills-window .window-titlebar {
      background: #f5f5f5;
      border-bottom: 1px solid #d0d0d0;
    }

    .skills-window .window-title {
      color: #333;
      font-size: 12px;
      font-weight: 500;
      font-family: 'SF Mono', Consolas, Monaco, 'Courier New', monospace;
    }

    .skills-window .window-content {
      background: white;
      padding: 12px 16px 12px 12px;
    }

    /* File Explorer Styling - macOS Finder inspired */
    .file-explorer {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 0;
    }

    .folder {
      margin-bottom: 4px;
    }

    .folder:last-child {
      margin-bottom: 0;
    }

    .folder-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px 8px;
      cursor: pointer;
      border-radius: 6px;
      transition: background-color 0.15s ease;
      user-select: none;
    }

    .folder-header:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .folder-icon {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }

    .folder-name {
      font-size: 13px;
      font-weight: 600;
      color: #333;
      flex: 1;
      letter-spacing: -0.01em;
    }

    .folder-arrow {
      font-size: 10px;
      color: #999;
      transition: transform 0.2s ease;
    }

    .folder.collapsed .folder-arrow {
      transform: rotate(-90deg);
    }

    .folder-content {
      margin-left: 24px;
      margin-top: 2px;
      max-height: 500px;
      overflow: hidden;
      transition: max-height 0.3s ease, opacity 0.3s ease;
    }

    .folder.collapsed .folder-content {
      max-height: 0;
      opacity: 0;
    }

    .file {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 3px 8px;
      font-size: 13px;
      color: #333;
      border-radius: 6px;
      transition: background-color 0.15s ease;
      cursor: default;
    }

    .file:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .file-icon {
      flex-shrink: 0;
      font-size: 11px;
      color: #d89fca;
      line-height: 1;
    }

    /* --- Extracurriculars Window --- */
    .extra-window {
      width: 380px;
      top: 100px;
      right: 80px;
      z-index: 4;
      max-height: 380px;
    }

    .extra-window .window-content {
      max-height: 380px;
    }

    .experience-window:hover {
      transform: translateX(-50%) translateY(-2px);
    }

    /* --- Dock --- */
    .dock {
      display: flex;
      align-items: flex-end;
      gap: 12px;
      padding: 8px 16px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(20px);
      border: 2px hidden var(--pink-border);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(74, 14, 61, 0.2);
    }

    .dock-icon {
      width: 56px;
      height: 56px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      box-shadow: 0 2px 8px rgba(74, 14, 61, 0.15);
    }

    .dock-icon img {
      width: 100%;
      height: 100%;
      border-radius: 12px;
      object-fit: cover;
    }

    .dock-icon:hover {
      transform: translateY(-8px) scale(1.15);
      box-shadow: 0 12px 24px rgba(74, 14, 61, 0.25);
    }

    .dock-divider {
      width: 1px;
      height: 48px;
      background: var(--pink-border);
      margin: 0 4px;
    }

    /* --- Dock Tooltips --- */
    .dock-tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-8px);
      background: rgba(40, 44, 52, 0.95);
      color: #abb2bf;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
      font-family: 'SF Mono', Consolas, Monaco, 'Courier New', monospace;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 1001;
    }

    .dock-icon {
      position: relative;
    }

    .dock-icon:hover .dock-tooltip {
      opacity: 1;
      transform: translateX(-50%) translateY(-4px);
    }

    /* --- Terminal Window --- */
    .terminal-window {
      display: none; /* Hidden on desktop, visible on mobile */
      width: 320px;
      top: 520px;
      right: 80px;
      z-index: 8;
      background: rgba(40, 44, 52, 0.95);
      border: 1px solid #21252b;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
      font-family: 'SF Mono', Consolas, Monaco, 'Courier New', monospace;
    }

    .terminal-window .window-titlebar {
      background: #21252b;
      border-bottom: 1px solid #181a1f;
      justify-content: flex-start;
      gap: 12px;
    }

    .terminal-window .window-controls {
      gap: 6px;
      padding-right: 0;
    }

    .terminal-window .window-title {
      color: #abb2bf;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.3px;
      text-align: left;
    }

    .terminal-window .window-content {
      background: transparent;
      padding: 18px;
      color: #abb2bf;
      font-size: 12px;
      line-height: 1.6;
    }

    .terminal-prompt {
      color: #5c6370;
      margin-bottom: 8px;
    }

    .terminal-status {
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 6px;
    }

    .terminal-status:last-child {
      margin-bottom: 0;
    }

    .terminal-bullet {
      color: #98c379;
      flex-shrink: 0;
    }

    .terminal-label {
      color: #abb2bf;
      min-width: 80px;
    }

    .terminal-value {
      color: #98c379;
    }

    .terminal-cursor {
      display: inline-block;
      width: 8px;
      height: 14px;
      background: #98c379;
      margin-left: 2px;
      opacity: 1;
      animation: none; /* No animation by default on desktop */
    }

    /* Cursor blinks when terminal window or dashboard widget is hovered */
    .terminal-window:hover .terminal-cursor,
    .terminal-window.active .terminal-cursor,
    .dashboard-widget:hover .terminal-cursor {
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    /* --- Dashboard Widget (Desktop Terminal) --- */
    .dashboard-widget {
      position: fixed;
      bottom: 100px;
      right: 20px;
      width: 280px;
      background: rgba(40, 44, 52, 0.95);
      backdrop-filter: blur(12px);
      border: 1px solid #21252b;
      border-radius: 8px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
      z-index: 999;
      font-family: 'SF Mono', Consolas, Monaco, 'Courier New', monospace;
      transition:
        width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        height 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        border-radius 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        bottom 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        left 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
        right 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .dashboard-titlebar {
      background: #21252b;
      padding: 8px 12px;
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid #181a1f;
      border-radius: 7px 7px 0 0;
      transition:
        background-color 0.3s ease,
        border 0.3s ease,
        padding 0.3s ease;
    }

    .terminal-dots {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .terminal-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .terminal-dot.red { background: #ff5f56; }
    .terminal-dot.yellow { background: #ffbd2e; }
    .terminal-dot.green { background: #27c93f; }

    .dashboard-title {
      font-size: 12px;
      font-weight: 500;
      color: #abb2bf;
      letter-spacing: 0.3px;
      margin-left: 4px;
      opacity: 1;
      visibility: visible;
      transition:
        opacity 0.25s ease-out,
        visibility 0.25s ease-out,
        max-width 0.25s ease-out;
    }

    .dashboard-content {
      padding: 14px;
      color: #abb2bf;
      font-size: 12px;
      line-height: 1.6;
      opacity: 1;
      visibility: visible;
      transition:
        opacity 0.25s ease-out,
        visibility 0.25s ease-out;
    }

    /* --- Project Windows --- */
    .project-window {
      display: none;
      position: absolute;
      width: 550px;
      top: 40%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 900;
      transition: box-shadow 0.2s ease;
    }

    #spellingBeeWindow {
      top: 7%;
      left: 75%;
    }

    .project-window.active {
      display: block;
    }

    .project-window:hover {
      transform: translateX(-50%) translateY(-2px);
    }

    .project-actions {
      margin: 12px 0 20px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 10px;
    }

    .project-launch {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 9px 18px;
      background: linear-gradient(135deg, #f48fb1, #f06292);
      border: 1px solid rgba(74, 14, 61, 0.15);
      border-radius: 999px;
      color: white;
      text-decoration: none;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.3px;
      box-shadow: 0 6px 16px rgba(244, 143, 177, 0.4);
      transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
    }

    .project-launch:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(244, 143, 177, 0.45);
      filter: brightness(1.05);
    }

    .project-icon-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 38px;
      height: 38px;
      border-radius: 50%;
      border: 1px solid var(--pink-border);
      background: var(--pink-light);
      color: var(--text-dark);
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }

    .project-icon-link:hover {
      transform: translateY(-1px);
      border-color: rgba(74, 14, 61, 0.25);
      box-shadow: 0 6px 16px rgba(74, 14, 61, 0.2);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .skill-tag {
      display: inline-block;
      padding: 4px 12px;
      background: var(--pink-light);
      border: 1px solid var(--pink-border);
      border-radius: 12px;
      color: var(--text-dark);
      font-size: 12px;
      font-weight: 500;
      margin: 4px 4px 4px 0;
    }

    /* --- Project Grid (Launchpad/Finder Style) --- */
    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 24px;
      padding: 20px;
      justify-items: center;
    }

    .project-grid-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 12px;
      border-radius: 12px;
      transition: all 0.2s ease;
      user-select: none;
    }

    .project-grid-item:hover {
      background: rgba(0, 0, 0, 0.03);
      transform: scale(1.05);
    }

    .project-grid-icon {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(74, 14, 61, 0.15);
      transition: all 0.2s ease;
    }

    .project-grid-item:hover .project-grid-icon {
      box-shadow: 0 4px 16px rgba(74, 14, 61, 0.25);
    }

    .project-grid-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .project-grid-label {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-dark);
      text-align: center;
      line-height: 1.3;
      max-width: 80px;
    }

    /* --- Apple Project Windows --- */
    .apple-project-window {
      max-height: 500px;
    }

    .apple-project-content {
      max-height: 500px;
      overflow-y: auto;
    }

    .project-description {
      font-size: 13px;
      line-height: 1.6;
      color: var(--text-dark);
      margin-bottom: 16px;
    }

    .resource-links {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    /* --- Screenshot Gallery & Phone Mockups --- */
    .screenshot-gallery {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin: 16px 0;
      flex-wrap: wrap;
    }

    .phone-mockup {
      background: #1a1a1a;
      border-radius: 28px;
      padding: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
      position: relative;
      width: 200px;
    }

    .phone-notch {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 20px;
      background: #1a1a1a;
      border-radius: 0 0 16px 16px;
      z-index: 1;
    }

    .phone-screen {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      position: relative;
    }

    .phone-screen img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* --- Accessibility --- */
    @media (pointer: coarse) {
      .pupil { display: none; }
    }

    @media (prefers-reduced-motion: reduce) {
      .pupil { transition: none; }
      .window, .contact-link { transition: none; }
      .speech-bubble { animation: none; }
      .terminal-cursor { animation: none; opacity: 1; }
      .online-indicator { animation: none; }

      /* Disable iris animations - instant background swap instead */
      .facetime-content.iris-close::before,
      .facetime-content.iris-open::before {
        animation: none;
      }

      .facetime-content.fade-out::before,
      .facetime-content.fade-in::before {
        animation: none;
      }
    }

    /* --- Responsive Mobile Layout --- */
    @media (max-width: 1024px) {
      .desktop {
        padding: 20px 10px 120px;
      }

      /* Show terminal window in vertical stack on mobile */
      .terminal-window {
        display: block;
      }

      /* Hide dashboard widget on mobile */
      .dashboard-widget {
        display: none;
      }

      .window {
        position: relative !important;
        left: auto !important;
        right: auto !important;
        top: auto !important;
        transform: none !important;
        margin: 0 auto 20px;
        max-width: 500px;
        width: calc(100% - 20px);
      }

      .facetime-window {
        max-width: 360px;
      }

      .location-footer {
        font-size: 10px;
        padding: 8px 12px;
      }

      .experience-window,
      .about-window {
        max-height: none;
      }

      .experience-window .window-content {
        max-height: none;
      }

      .project-window {
        position: relative !important;
        transform: none !important;
        margin: 20px auto;
        width: calc(100% - 20px);
        max-width: 550px;
      }

      .phone-mockup {
        width: 160px;
      }

      .dock {
        gap: 8px;
        padding: 6px 12px;
      }

      .dock-icon {
        width: 48px;
        height: 48px;
      }

      .dock-divider {
        height: 40px;
      }
    }

    /* Cursor always blinks on mobile (respects reduced motion preference) */
    @media (max-width: 1024px) and (prefers-reduced-motion: no-preference) {
      .terminal-cursor {
        animation: blink 1s step-end infinite;
      }
    }

    @media (max-width: 480px) {
      .window-content {
        padding: 14px;
      }

      .facetime-window {
        max-width: 100%;
      }

      .dock {
        gap: 6px;
        padding: 4px 8px;
      }

      .dock-icon {
        width: 42px;
        height: 42px;
      }

      .dock-divider {
        height: 36px;
      }

      .phone-mockup {
        width: 140px;
      }

      .screenshot-gallery {
        gap: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="desktop">

    <!-- FaceTime Window (Avatar) -->
    <div class="window facetime-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Rhea is calling...</div>
        <div class="theme-toggle active" id="themeToggle" title="Toggle day/night">
          <span class="theme-toggle-icon moon">⏾</span>
          <span class="theme-toggle-icon sun">𖤓</span>
          <div class="theme-toggle-knob"></div>
        </div>
      </div>
      <div class="window-content facetime-content">
        <div class="avatar-stage" id="stage">
          <div class="pupil-backdrop"></div>
          <div class="pupil left" id="pupilL"></div>
          <div class="pupil right" id="pupilR"></div>
          <img class="avatar" id="avatarImg" src="assets/avatar_no-eyes.png" alt="Rhea Singh avatar" />
          <div class="speech-bubble">hello world!</div>
        </div>
        <div class="avatar-info">
          <div class="avatar-name">Rhea Singh</div>
          <div class="avatar-subtitle">Software Engineer · Product/UX</div>
        </div>
        <!-- Location Footer -->
        <div class="location-footer">
          <span class="online-indicator"></span>
          <span style="font-weight:300;">Open to roles in <span id="sfLocation">SF</span> | <span id="nycLocation">NYC</span> | <span id="nonusLocation">Remote or non-US</span></span>
        </div>
      </div>
    </div>

    <!-- Terminal Window -->
    <div class="window terminal-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">terminal</div>
      </div>
      <div class="window-content">
        <div class="terminal-prompt">$ status --now</div>
        <div class="terminal-status">
          <span class="terminal-bullet">◉</span>
          <span class="terminal-label">working_on</span>
          <span class="terminal-value">a Sunday crossword</span>
        </div>
        <div class="terminal-status">
          <span class="terminal-bullet">◉</span>
          <span class="terminal-label">reading</span>
          <span class="terminal-value">Dune Messiah</span>
        </div>
        <div style="margin-top: 8px; color: #5c6370;">
          $<span class="terminal-cursor"></span>
        </div>
      </div>
    </div>

    <!-- About/Education Window -->
    <div class="window about-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">education.txt</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="info-block">
          <div class="info-title">University of Michigan, College of Engineering</div>
          <div class="info-subtitle">B.S. in Computer Science, History Minor</div>
          <div class="info-meta">2016 - 2020 | Ann Arbor, MI</div>
          <ul class="info-list">
            <li>Operating Systems, Web Systems, UI Development, Computer Security</li>
            <li>Data Structures & Algs, Foundations of Computer Science</li>
            <li>Computer Architecture, Discrete Math, Linear Algebra, Differential Equations</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Experience Window -->
    <div class="window experience-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">experience.txt</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Apple, Health & Fitness</div>
              <div class="job-role">Software Engineer</div>
            </div>
            <div class="job-date">Aug 2020 - Sept 2025<br>Cupertino, CA</div>
          </div>
          <ul class="info-list">
            <li>Designed scalable system architectures to power new Health features and improve algorithm performance on iOS and watchOS</li>
            <li>Collaborated with research scientists and cross-functional teams to run FDA-regulated studies and launch a multi-year flagship feature</li>
            <li>Built and owned research apps to test experimental Health & Fitness features and collect secure, high-fidelity sensor data</li>
            <li>Architected efficient APIs and background systems balancing power, performance, and resource constraints</li>
            <li>Coordinated priorities across data, infrastructure, and product teams to meet ambitious delivery goals</li>
            <li>Presented designs and trade-offs to executives and experts to align on technical direction</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Capital One</div>
              <div class="job-role">Tech Intern</div>
            </div>
            <div class="job-date">June - Aug 2019<br>Chicago, IL</div>
          </div>
          <ul class="info-list">
            <li>Improved user experience for new partnership application based on feedback from previous rollouts</li>
            <li>Developed metrics for team efficiency in the development process</li>
            <li>Designed a beautiful, easy-to-understand data visualization tool of team's Github pull request process</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Blablablab (UMich)</div>
              <div class="job-role"><i>The Bringing together Language and Behavior for Large-scale Analytical Breakthroughs Laboratory</i></div>
              <div class="job-role">Undergraduate Researcher</div>
            </div>
            <div class="job-date">2018 - 2020<br>Ann Arbor, MI</div>
          </div>
          <ul class="info-list">
            <li>Scraped Wikipedia for all people with pages and identified gender based on names and pronouns</li>
            <li>Applied NLP techniques to derive statistically significant differences in language used dependent on gender</li>
            <li>Thought critically in collaboration with professor about data and potential biases</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Skills Window -->
    <div class="window skills-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">/Users/rhea/skills/</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="file-explorer">
          <!-- Backend Folder -->
          <div class="folder">
            <div class="folder-header" onclick="toggleFolder(this)">
              <span class="folder-arrow">▼</span>
              <!-- TODO: Replace with macOS folder icon - suggested: assets/icon-folder-open.png -->
              <img src="assets/icon-folder.png" alt="" class="folder-icon" />
              <span class="folder-name">backend</span>
            </div>
            <div class="folder-content">
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .cpp</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .py</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .sql</div>
              <div class="file"><span class="file-icon">●</span> API + SDK Development</div>
              <div class="file"><span class="file-icon">●</span> Multithreaded OS</div>
            </div>
          </div>

          <!-- Frontend Folder -->
          <div class="folder">
            <div class="folder-header" onclick="toggleFolder(this)">
              <span class="folder-arrow">▼</span>
              <img src="assets/icon-folder.png" alt="" class="folder-icon" />
              <span class="folder-name">frontend</span>
            </div>
            <div class="folder-content">
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .swift</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .m/.mm</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .html</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .css</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .js</div>
              <div class="file"><img src="assets/icon-file.png" alt="" class="folder-icon" /> .react</div>
              <div class="file"><span class="file-icon">●</span> iOS + Xcode</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Extracurriculars Window -->
    <div class="window extra-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Extracurriculars</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">ICPC (Programming Contest)</div>
              <div class="job-role">Participant</div>
            </div>
            <div class="job-date">Sept 2018 - 2020</div>
          </div>
          <ul class="info-list">
            <li>Qualified for ICPC State Level with team of three</li>
            <li>Placed in top five, working on challenging programming questions</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Michigan Research Community</div>
              <div class="job-role">Peer Mentor</div>
            </div>
            <div class="job-date">Sept 2016 - May 2018</div>
          </div>
          <ul class="info-list">
            <li>Guided first-time undergraduate research students in navigating project search and research path</li>
            <li>Provided support, monthly meetings, and guidance with research posters</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Project Windows (Hidden by default) -->
    <!-- NYT Spelling Bee Project Window -->
    <div class="window project-window" id="spellingBeeWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('spellingBeeWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">spelling-bee</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="section-heading">Project Overview</div>
        <p style="font-size: 13px; line-height: 1.6; color: var(--text-dark); margin-bottom: 12px;">
          A real-time interactive version of the New York Times Spelling Bee made to compete with friends and family. Updates daily when the new puzzle drops.
        </p>
        <div class="project-actions">
          <a href="https://frankies-spelling-bee.vercel.app" class="project-launch" target="_blank">
            <span>Launch</span>
            <span aria-hidden="true">🚀</span>
          </a>
          <a href="https://github.com/rhea-s/spelling-bee/tree/main" class="project-icon-link" target="_blank" aria-label="View project on GitHub">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 2C6.48 2 2 6.58 2 12.25c0 4.52 2.87 8.36 6.84 9.72.5.1.68-.22.68-.49 0-.24-.01-.87-.01-1.71-2.78.62-3.37-1.37-3.37-1.37-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.62.07-.62 1 .07 1.53 1.06 1.53 1.06.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.75-.1-.26-.45-1.3.1-2.71 0 0 .84-.27 2.75 1.05a9.3 9.3 0 0 1 5 0c1.9-1.32 2.74-1.05 2.74-1.05.55 1.41.2 2.45.1 2.71.64.72 1.03 1.63 1.03 2.75 0 3.94-2.34 4.81-4.57 5.06.36.33.68.97.68 1.96 0 1.42-.01 2.56-.01 2.9 0 .27.18.6.69.49A10.03 10.03 0 0 0 22 12.25C22 6.58 17.52 2 12 2Z" fill="currentColor" />
            </svg>
            <span class="sr-only">View on GitHub</span>
          </a>
        </div>
        <div class="section-heading">Tech Stack</div>
        <div class="skill-tags" style="margin-bottom: 16px;">
          <span class="skill-tag">JavaScript</span>
          <span class="skill-tag">CSS</span>
          <span class="skill-tag">Python Scripting</span>
          <span class="skill-tag">Firebase DB</span>
          <span class="skill-tag">Claude Code</span>
          <!-- Add more tech stack tags as needed -->
        </div>

        <div class="section-heading">Screenshots</div>
        <div class="screenshot-gallery">
          <div class="phone-mockup">
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <img src="assets/spellingbee-ex1.PNG" alt="Spelling Bee Screenshot 1" />
            </div>
          </div>
          <div class="phone-mockup">
            <div class="phone-notch"></div>
            <div class="phone-screen">
              <img src="assets/spellingbee-ex2.PNG" alt="Spelling Bee Screenshot 2" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Book Club Project Window -->
    <div class="window project-window" id="bookClubWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('bookClubWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">book-club</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div style="text-align: center; padding: 40px 20px;">
          <p style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px;">
            🚧 Under Construction 🚧
          </p>
          <p style="font-size: 13px; color: var(--text-muted);">
            Check back soon!
          </p>
        </div>
      </div>
    </div>

    <!-- Apple Work Placeholder Window -->
    <div class="window project-window" id="appleWorkPlaceholderWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('appleWorkPlaceholderWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">apple-work</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div style="text-align: center; padding: 40px 20px;">
          <p style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px;">
            🚧 Under Construction 🚧
          </p>
          <p style="font-size: 13px; color: var(--text-muted);">
            Check back soon!
          </p>
        </div>
      </div>
    </div>

    <!-- Work Window (Finder-style project grid) -->
    <div class="window project-window" id="workWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('workWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Apple Projects</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="project-grid">
          <div class="project-grid-item" onclick="openAppleProject('researchAppWindow')">
            <div class="project-grid-icon">
              <!-- TODO: Replace with Apple Research app icon -->
              <img src="assets/icon-os.png" alt="Apple Research App" />
            </div>
            <div class="project-grid-label">Apple Research App</div>
          </div>
          <div class="project-grid-item" onclick="openAppleProject('smartStackWindow')">
            <div class="project-grid-icon">
              <!-- TODO: Replace with Apple Watch or watchOS icon -->
              <img src="assets/icon-os.png" alt="Smart Stack" />
            </div>
            <div class="project-grid-label">Smart Stack Workout Suggestions</div>
          </div>
          <div class="project-grid-item" onclick="openAppleProject('journalAppWindow')">
            <div class="project-grid-icon">
              <!-- TODO: Replace with Journal app icon -->
              <img src="assets/icon-os.png" alt="Journal App" />
            </div>
            <div class="project-grid-label">Journal App</div>
          </div>
          <div class="project-grid-item" onclick="openAppleProject('airpodsHearingWindow')">
            <div class="project-grid-icon">
              <!-- TODO: Replace with AirPods or Health icon -->
              <img src="assets/icon-os.png" alt="AirPods Hearing Aid" />
            </div>
            <div class="project-grid-label">AirPods Hearing Aid</div>
          </div>
          <div class="project-grid-item" onclick="openAppleProject('fitnessIphoneWindow')">
            <div class="project-grid-icon">
              <!-- TODO: Replace with Fitness app icon -->
              <img src="assets/icon-os.png" alt="Fitness on iPhone" />
            </div>
            <div class="project-grid-label">Fitness on iPhone</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Apple Research App Project Detail Window -->
    <div class="window project-window apple-project-window" id="researchAppWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('researchAppWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Apple Research App</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content apple-project-content">
        <div class="section-heading">Project Overview</div>
        <p class="project-description">
          Built and owned the Apple Research app (launched late 2019), enabling everyday users to contribute to groundbreaking medical studies via their iPhone and Apple Watch. Hailed as a "game changer" by CEO Tim Cook for enabling people to "securely contribute to research that could lead to new discoveries."
        </p>

        <!-- TODO: Add screenshot of Research app on iPhone with study tasks -->

        <div class="section-heading">Tech Stack</div>
        <div style="margin-bottom: 16px;">
          <span class="skill-tag">Swift</span>
          <span class="skill-tag">iOS</span>
          <span class="skill-tag">watchOS</span>
          <span class="skill-tag">HealthKit</span>
          <span class="skill-tag">ResearchKit</span>
          <span class="skill-tag">Privacy & Security</span>
        </div>

        <div class="section-heading">Impact & Statistics</div>
        <ul class="info-list">
          <li><strong>350,000+ participants</strong> enrolled across three landmark studies (women's health, heart & movement, and hearing)</li>
          <li><strong>400 million hours</strong> of sound exposure data collected in Apple Hearing Study alone</li>
          <li>Research insights used to improve cycle tracking predictions in iPhone Health app</li>
          <li>Turned Apple devices into powerful research tools using HealthKit integration and on-device privacy controls</li>
          <li>Architected secure, high-fidelity sensor data collection at scale</li>
        </ul>

        <div class="section-heading">Resources</div>
        <div class="resource-links">
          <!-- TODO: Update with specific Apple Research app link -->
          <a href="https://www.apple.com/newsroom/" class="project-link" target="_blank">Apple Newsroom →</a>
          <!-- TODO: Update with App Store link if available -->
          <a href="https://apps.apple.com/" class="project-link" target="_blank">App Store →</a>
        </div>
      </div>
    </div>

    <!-- Smart Stack Workout Suggestions Project Detail Window -->
    <div class="window project-window apple-project-window" id="smartStackWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('smartStackWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Smart Stack Workout Suggestions</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content apple-project-content">
        <div class="section-heading">Project Overview</div>
        <p class="project-description">
          Developed the Smart Stack workout suggestion system for watchOS 10, leveraging on-device machine learning to proactively suggest workouts based on user routines. The Smart Stack is a scrolling widget system that surfaces helpful information depending on context – weather in the morning, boarding passes at airports, and workout prompts when it's time to exercise.
        </p>

        <!-- TODO: Add screenshot of Smart Stack on Apple Watch showing workout suggestion -->

        <div class="section-heading">Tech Stack</div>
        <div style="margin-bottom: 16px;">
          <span class="skill-tag">Swift</span>
          <span class="skill-tag">watchOS</span>
          <span class="skill-tag">Machine Learning</span>
          <span class="skill-tag">CoreMotion</span>
          <span class="skill-tag">HealthKit</span>
          <span class="skill-tag">Live Activities</span>
        </div>

        <div class="section-heading">Key Features & Engineering Achievements</div>
        <ul class="info-list">
          <li>On-device ML learns user workout patterns and proactively suggests exercises at the right time</li>
          <li>Live Activities in Smart Stack display active workout metrics (duration, heart rate zones) during sessions</li>
          <li>Designed efficient background suggestion algorithm with careful system performance optimization</li>
          <li>Suggestions generated and updated in real-time on-device while respecting battery and resource constraints</li>
          <li>Seamless integration with watchOS 10 interface redesign – tap on wrist notification when workout is due</li>
        </ul>

        <div class="section-heading">Resources & Coverage</div>
        <div class="resource-links">
          <a href="https://www.apple.com/newsroom/2023/06/introducing-watchos-10-a-milestone-update-for-apple-watch/" class="project-link" target="_blank">watchOS 10 Announcement →</a>
          <a href="https://support.apple.com/guide/watch/see-widgets-in-the-smart-stack-apdecf142fb9/watchos" class="project-link" target="_blank">Apple Support →</a>
          <!-- TODO: Embed or link to Twitter/X post from @srinathtm: https://twitter.com/srinathtm -->
          <a href="https://twitter.com/srinathtm" class="project-link" target="_blank">@srinathtm on X →</a>
        </div>
      </div>
    </div>

    <!-- Journal App Project Detail Window -->
    <div class="window project-window apple-project-window" id="journalAppWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('journalAppWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Journal App (iOS 17)</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content apple-project-content">
        <div class="section-heading">Project Overview</div>
        <p class="project-description">
          Built Apple's Journal app for iOS 17.2 – a new iPhone app focused on daily reflection, journaling, and mental well-being. Announced at WWDC 2023, Journal provides a dedicated, private space for users to log everyday moments, thoughts, and milestones with on-device intelligence creating personalized writing prompts.
        </p>

        <div class="section-heading">Tech Stack</div>
        <div style="margin-bottom: 16px;">
          <span class="skill-tag">Swift</span>
          <span class="skill-tag">iOS</span>
          <span class="skill-tag">Machine Learning</span>
          <span class="skill-tag">Privacy & Encryption</span>
          <span class="skill-tag">Face ID / Touch ID</span>
          <span class="skill-tag">Core Data</span>
        </div>

        <div class="section-heading">Key Features & Impact</div>
        <ul class="info-list">
          <li><strong>On-device ML prompts:</strong> Analyzes recent activities (photos, places, workouts, music) to suggest personalized moments to write about</li>
          <li><strong>Rich media entries:</strong> Support for photos, videos, audio recordings, and locations to enhance memories</li>
          <li><strong>End-to-end encryption:</strong> All entries are encrypted and can be locked behind Face ID/Touch ID</li>
          <li><strong>Journaling Suggestions API:</strong> Introduced API for third-party apps to integrate similar prompts while respecting privacy</li>
          <li><strong>Wellness focus:</strong> Scheduled notifications, gratitude/kindness themes based on research showing positive impact of reflection</li>
          <li>Praised by Day One founder as "ushers in a new chapter for the practice" of digital journaling</li>
        </ul>

        <div class="section-heading">Resources & Coverage</div>
        <div class="resource-links">
          <a href="https://www.apple.com/newsroom/2023/12/apple-launches-journal-app-a-new-app-for-reflecting-on-everyday-moments/" class="project-link" target="_blank">Apple Newsroom →</a>
          <!-- TODO: Add App Store link for Journal app -->
          <a href="https://apps.apple.com/" class="project-link" target="_blank">App Store →</a>
        </div>
      </div>
    </div>

    <!-- AirPods Hearing Aid Feature Project Detail Window -->
    <div class="window project-window apple-project-window" id="airpodsHearingWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('airpodsHearingWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">AirPods Hearing Aid Feature</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content apple-project-content">
        <div class="section-heading">Project Overview</div>
        <p class="project-description">
          Developed Apple's first FDA-authorized over-the-counter hearing aid software for AirPods Pro 2 (announced 2024). This software-based feature allows AirPods Pro to function as clinical-grade hearing aids, amplifying sounds for users with mild to moderate hearing loss – without a doctor's visit or prescription.
        </p>

        <!-- TODO: Add screenshot of hearing test results on iPhone with Hearing Aid setup option -->

        <div class="section-heading">Tech Stack</div>
        <div style="margin-bottom: 16px;">
          <span class="skill-tag">Swift</span>
          <span class="skill-tag">iOS 18</span>
          <span class="skill-tag">AirPods Pro 2</span>
          <span class="skill-tag">Audio Processing</span>
          <span class="skill-tag">FDA-Regulated Software</span>
          <span class="skill-tag">Clinical Validation</span>
        </div>

        <div class="section-heading">Impact & Clinical Validation</div>
        <ul class="info-list">
          <li><strong>FDA Authorization (Sept 2024):</strong> First-ever over-the-counter hearing aid software device authorized by the FDA</li>
          <li><strong>Clinical study:</strong> 118 participants showed hearing improvements on par with professionally-fitted hearing aids, with no adverse effects</li>
          <li><strong>5-minute Hearing Test:</strong> Clinical-grade pure-tone audiometry test on iPhone generates personalized hearing profile</li>
          <li><strong>Dynamic amplification:</strong> AirPods Pro boost frequencies tailored to user's hearing profile in real-time</li>
          <li><strong>Accessibility goal:</strong> Addressing that 75% of people with diagnosable hearing loss don't use any aid – making hearing assistance more accessible and socially acceptable</li>
          <li>Part of "all-in-one hearing health experience" including Hearing Protection mode for loud noise reduction</li>
        </ul>

        <div class="section-heading">Resources & Coverage</div>
        <div class="resource-links">
          <a href="https://www.apple.com/newsroom/2024/09/apple-introduces-groundbreaking-health-features/" class="project-link" target="_blank">Apple Newsroom →</a>
          <a href="https://www.fda.gov/news-events/press-announcements/fda-authorizes-first-over-counter-hearing-aid-software" class="project-link" target="_blank">FDA Press Release →</a>
        </div>

        <div class="section-heading">Quote</div>
        <p class="project-description" style="font-style: italic; border-left: 3px solid var(--pink-border); padding-left: 12px; margin-top: 8px;">
          "This initiative serves as a case study for Apple's future health efforts, showing how consumer tech can crossover into medical device territory when backed by solid research and compliance." — VP of Health, Sumbul Desai
        </p>
      </div>
    </div>

    <!-- Fitness on iPhone Project Detail Window -->
    <div class="window project-window apple-project-window" id="fitnessIphoneWindow">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close" onclick="closeProjectWindow('fitnessIphoneWindow')"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Fitness on iPhone (Without Apple Watch)</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content apple-project-content">
        <div class="section-heading">Project Overview</div>
        <p class="project-description">
          Opened up Apple's Fitness app to all iPhone users (iOS 16+), removing the Apple Watch requirement. Any iPhone 8 or later can now set activity goals, track daily movement, record workouts, and access Fitness+ – making Apple's fitness ecosystem approachable to millions more users.
        </p>

        <!-- TODO: Add screenshot of Fitness app Workout tab on iPhone showing exercise options -->

        <div class="section-heading">Tech Stack</div>
        <div style="margin-bottom: 16px;">
          <span class="skill-tag">Swift</span>
          <span class="skill-tag">iOS</span>
          <span class="skill-tag">CoreMotion</span>
          <span class="skill-tag">HealthKit</span>
          <span class="skill-tag">Live Activities</span>
          <span class="skill-tag">External Sensor Integration</span>
        </div>

        <div class="section-heading">Key Features & Engineering Achievements</div>
        <ul class="info-list">
          <li><strong>Workouts tab (iOS 17):</strong> Start workout sessions directly on iPhone – outdoor runs, cycling, HIIT, core training, etc.</li>
          <li><strong>Live Activities:</strong> Real-time workout stats displayed on Lock Screen during active sessions</li>
          <li><strong>Cross-device integration:</strong> Seamlessly pair with Apple Watch, Bluetooth heart-rate monitors, or AirPods Pro (3rd gen) for heart rate and calorie data</li>
          <li><strong>Motion sensor tracking:</strong> iPhone counts steps, distance, flights climbed contributing to Move ring</li>
          <li><strong>Fitness+ expansion:</strong> Extended subscription service to iPhone-only users (late 2022) – studio workouts on iPhone or TV without requiring Apple Watch</li>
          <li>Complex engineering: Real-time sensor handoff, background workout syncing, ensuring smooth data flow from Watch/accessories to iPhone</li>
          <li>Noted in tech press as Apple "sherlocking" basic fitness tracking – making it a built-in feature for all iPhone owners</li>
        </ul>

        <div class="section-heading">Resources & Coverage</div>
        <div class="resource-links">
          <a href="https://support.apple.com/en-au/guide/iphone/ipha5dddb411/ios" class="project-link" target="_blank">Apple Support →</a>
          <!-- TODO: Add link to Fitness+ page -->
          <a href="https://www.apple.com/apple-fitness-plus/" class="project-link" target="_blank">Apple Fitness+ →</a>
        </div>
      </div>
    </div>

    <!-- Dashboard Widget (Terminal) -->
    <div class="dashboard-widget">
      <div class="dashboard-titlebar">
        <div class="terminal-dots">
          <div class="terminal-dot red"></div>
          <div class="terminal-dot yellow"></div>
          <div class="terminal-dot green"></div>
        </div>
        <div class="dashboard-title">terminal</div>
      </div>
      <div class="dashboard-content">
        <div class="terminal-prompt">$ status --now</div>
        <div class="terminal-status">
          <span class="terminal-bullet">◉</span>
          <span class="terminal-label">working_on</span>
          <span class="terminal-value">a Sunday crossword</span>
        </div>
        <div class="terminal-status">
          <span class="terminal-bullet">◉</span>
          <span class="terminal-label">reading</span>
          <span class="terminal-value">Dune Messiah</span>
        </div>
        <div style="margin-top: 8px; color: #5c6370;">
          $<span class="terminal-cursor"></span>
        </div>
      </div>
    </div>

    <!-- Dock Container -->
    <div style="position: fixed; bottom: 16px; left: 50%; transform: translateX(-50%); display: flex; gap: 12px; z-index: 1000;">
      <!-- Projects Dock -->
      <div class="dock">
        <!-- NYT Spelling Bee App Icon -->
        <div class="dock-icon" onclick="openProjectWindow('spellingBeeWindow')">
          <img src="assets/spelling-bee-logo.png" alt="Spelling Bee" />
          <div class="dock-tooltip">spelling-bee</div>
        </div>

        <!-- Book Club App Icon -->
        <div class="dock-icon" onclick="openProjectWindow('bookClubWindow')">
          <img src="assets/icon-book-club.png" alt="Book Club" />
          <div class="dock-tooltip">book-club</div>
        </div>

        <div class="dock-divider"></div>

        <!-- Work/Apple Projects Icon -->
        <div class="dock-icon" onclick="openProjectWindow('appleWorkPlaceholderWindow')">
          <img src="assets/icon-apple.png" alt="Work Projects" />
          <div class="dock-tooltip">apple-work</div>
        </div>
      </div>

      <!-- Contact Dock -->
      <div class="dock">
        <!-- Mail App Icon -->
        <a href="mailto:singh.rhea.04@gmail.com" class="dock-icon">
          <img src="assets/icon-mail.png" alt="Email" />
          <div class="dock-tooltip">send email</div>
        </a>

        <!-- LinkedIn App Icon -->
        <a href="https://linkedin.com/in/rheas" target="_blank" class="dock-icon">
          <img src="assets/icon-linkedin.png" alt="LinkedIn" />
          <div class="dock-tooltip">connect</div>
        </a>
      </div>
    </div>

  </div>

  <script>
    // Eye-tracking logic with rAF throttling and clamped movement within a circle.
    (function () {
      const stage = document.getElementById('stage');
      const left = document.getElementById('pupilL');
      const right = document.getElementById('pupilR');
      const avatarImg = document.getElementById('avatarImg');

      // Respect: reduced motion and non-fine pointers (phones/tablets)
      const motionOK = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const finePointer = window.matchMedia('(pointer: fine)').matches;

      // If on mobile (coarse pointer), use the complete avatar with eyes
      if (!finePointer) {
        avatarImg.src = 'assets/avatar_base-complete-transparent.png';
      }

      if (!motionOK || !finePointer) return; // bail out

      const MAX = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--pupil-radius')) || 7;

      let queued = false;
      let lastEvent = null;

      function clampMove(pupil, center) {
        const rect = stage.getBoundingClientRect();
        // Cursor position relative to stage
        const x = lastEvent.clientX - rect.left;
        const y = lastEvent.clientY - rect.top;

        const dx = x - center.x;
        const dy = y - center.y;
        const dist = Math.hypot(dx, dy) || 1;
        const m = Math.min(MAX, dist);
        const nx = (dx / dist) * m;
        const ny = (dy / dist) * m;

        pupil.style.transform = `translate(calc(-50% + ${nx}px), calc(-55% + ${ny}px))`;
      }

      function getCenter(pupil) {
        const r = pupil.getBoundingClientRect();
        return { x: r.left + r.width / 2 - stage.getBoundingClientRect().left,
                 y: r.top + r.height / 2 - stage.getBoundingClientRect().top };
      }

      function onMove(e) {
        lastEvent = e;
        if (!queued) {
          queued = true;
          requestAnimationFrame(() => {
            const cL = getCenter(left);
            const cR = getCenter(right);
            clampMove(left,  cL);
            clampMove(right, cR);
            queued = false;
          });
        }
      }

      function recenter() {
        left.style.transform = 'translate(-50%, -50%)';
        right.style.transform = 'translate(-50%, -50%)';
      }

      document.addEventListener('mousemove', onMove);
      window.addEventListener('resize', recenter);
    })();

    // Window click-to-front functionality
    (function () {
      const windows = document.querySelectorAll('.window');
      let zIndexCounter = 100;

      windows.forEach(window => {
        window.addEventListener('click', function() {
          zIndexCounter++;
          this.style.zIndex = zIndexCounter;
        });
      });
    })();

    // Location and Theme Management
    let currentLocation = 'sf';
    let isDayMode = true;
    const speechBubble = document.querySelector('.speech-bubble');
    let hasUserChangedLocation = false;
    const canAnimateGreeting = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    let greetingAnimationTimeout = null;
    let greetingResetTimeout = null;

    function applyGreeting({ animate = false } = {}) {
      if (!speechBubble) {
        return;
      }

      const locationLabels = {
        sf: 'SF',
        nyc: 'NYC',
        nonus: 'world'
      };

      const activeLabel = hasUserChangedLocation
        ? (locationLabels[currentLocation] || 'world')
        : 'world';
      const displayLabel = activeLabel === 'world' ? 'world' : activeLabel;
      const message = isDayMode
        ? `hello ${displayLabel}!`
        : `gn, ${displayLabel} :)`;

      speechBubble.classList.toggle('night-mode', !isDayMode);

      if (greetingAnimationTimeout) {
        clearTimeout(greetingAnimationTimeout);
        greetingAnimationTimeout = null;
      }

      if (greetingResetTimeout) {
        clearTimeout(greetingResetTimeout);
        greetingResetTimeout = null;
      }

      const shouldAnimate = animate && canAnimateGreeting;

      if (shouldAnimate) {
        speechBubble.style.animation = 'bubbleFadeUp 0.3s ease-out forwards';

        greetingAnimationTimeout = window.setTimeout(() => {
          greetingAnimationTimeout = null;
          speechBubble.textContent = message;
          speechBubble.style.animation = 'bubbleFadeDown 0.3s ease-out forwards';

          greetingResetTimeout = window.setTimeout(() => {
            speechBubble.style.animation = '';
            greetingResetTimeout = null;
          }, 300);
        }, 300);
      } else {
        speechBubble.textContent = message;
        speechBubble.style.animation = '';
      }
    }

    // Background image mapping
    const backgrounds = {
      sf: {
        day: 'assets/sf-background-day.png',
        night: 'assets/sf-background-night.png'
      },
      nyc: {
        day: 'assets/nyc-background-day-2.png',
        night: 'assets/nyc-background-night-2.png'
      },
      nonus: {
        day: 'assets/bliss-background.png',
        night: 'assets/bliss-background-night.png'
      }
    };

    let backgroundTransitionToken = 0;
    const pendingTimeouts = new Set();

    function resetFacetimeAnimation() {
      const facetimeContent = document.querySelector('.facetime-content');
      if (facetimeContent) {
        facetimeContent.classList.remove('iris-close', 'iris-open', 'fade-out', 'fade-in');
      }
      pendingTimeouts.forEach(timeoutId => clearTimeout(timeoutId));
      pendingTimeouts.clear();
    }

    function scheduleStep(fn, delay, token) {
      const timeoutId = setTimeout(() => {
        pendingTimeouts.delete(timeoutId);
        if (token !== backgroundTransitionToken) {
          return;
        }
        fn();
      }, delay);
      pendingTimeouts.add(timeoutId);
    }

    function updateBackground(animationType = 'none') {
      backgroundTransitionToken += 1;
      resetFacetimeAnimation();
      const transitionToken = backgroundTransitionToken;

      const facetimeContent = document.querySelector('.facetime-content');
      const mode = isDayMode ? 'day' : 'night';
      const bgUrl = backgrounds[currentLocation][mode];

      // Check if user prefers reduced motion
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      if (prefersReducedMotion || animationType === 'none') {
        if (!facetimeContent) return;
        facetimeContent.style.setProperty('--bg-image', `url('${bgUrl}')`);
        return;
      }

      if (animationType === 'iris') {
        if (!facetimeContent) return;
        // Camera iris transition: close → swap → open
        facetimeContent.classList.remove('fade-in', 'fade-out');

        // Stage 1: Close the iris
        facetimeContent.classList.add('iris-close');

        scheduleStep(() => {
          // Stage 2: Swap background at the closed moment
          facetimeContent.style.setProperty('--bg-image', `url('${bgUrl}')`);
          facetimeContent.classList.remove('iris-close');

          // Stage 3: Open the iris
          facetimeContent.classList.add('iris-open');

          // Clean up after opening animation completes
          scheduleStep(() => {
            facetimeContent.classList.remove('iris-open');
          }, 300, transitionToken);
        }, 300, transitionToken);
        return;
      }

      if (animationType === 'fade') {
        if (!facetimeContent) return;
        facetimeContent.classList.remove('iris-close', 'iris-open', 'fade-in');
        facetimeContent.classList.add('fade-out');

        scheduleStep(() => {
          facetimeContent.style.setProperty('--bg-image', `url('${bgUrl}')`);
          facetimeContent.classList.remove('fade-out');
          facetimeContent.classList.add('fade-in');

          scheduleStep(() => {
            facetimeContent.classList.remove('fade-in');
          }, 200, transitionToken);
        }, 200, transitionToken);
        return;
      }

      if (!facetimeContent) return;
      facetimeContent.style.setProperty('--bg-image', `url('${bgUrl}')`);
    }

    // Initialize background on page load
    updateBackground();
    applyGreeting();

    // Location switcher
    function switchLocation(location) {
      currentLocation = location;

      // Update active state on tiles
      document.querySelectorAll('.location-tile').forEach(tile => {
        tile.classList.remove('active');
      });
      document.querySelector(`[data-location="${location}"]`).classList.add('active');

      // Update background
      updateBackground();
    }

    // Theme toggle for FaceTime background
    (function () {
      const toggle = document.getElementById('themeToggle');

      toggle.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent triggering window click-to-front
        isDayMode = !isDayMode;

        // Update toggle state
        toggle.classList.toggle('active', isDayMode);

        applyGreeting({ animate: canAnimateGreeting });

        // Update background based on current location and theme
        updateBackground('fade');
      });
    })();

    // Avatar tap to rotate location (SF → NYC → non-US → SF)
    (function () {
      const avatar = document.querySelector('.avatar');
      const sfLocation = document.getElementById('sfLocation');
      const nycLocation = document.getElementById('nycLocation');
      const nonusLocation = document.getElementById('nonusLocation');

      // Initialize: bold SF since it's the starting location
      sfLocation.style.fontWeight = '700';

      avatar.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent triggering window click-to-front

        // Rotate location: SF → NYC → non-US → SF
        if (currentLocation === 'sf') {
          currentLocation = 'nyc';
        } else if (currentLocation === 'nyc') {
          currentLocation = 'nonus';
        } else {
          currentLocation = 'sf';
        }

        // Update footer: bold the active location
        sfLocation.style.fontWeight = currentLocation === 'sf' ? '700' : '500';
        nycLocation.style.fontWeight = currentLocation === 'nyc' ? '700' : '500';
        nonusLocation.style.fontWeight = currentLocation === 'nonus' ? '700' : '500';

        // Update background with animation
        hasUserChangedLocation = true;
        applyGreeting({ animate: false });
        updateBackground('iris');
      });
    })();

    // Dock project window interactions
    function openProjectWindow(windowId) {
      const projectWindow = document.getElementById(windowId);
      if (projectWindow) {
        // Close any other open project windows
        document.querySelectorAll('.project-window').forEach(w => {
          w.classList.remove('active');
        });

        // Open the selected window
        projectWindow.classList.add('active');

        // Bring to front
        let zIndexCounter = 1000;
        projectWindow.style.zIndex = zIndexCounter++;

        // On small screens, ensure the window is visible to the user
        if (window.matchMedia('(max-width: 768px)').matches) {
          // Wait for the window to render before measuring
          requestAnimationFrame(() => {
            const rect = projectWindow.getBoundingClientRect();
            const viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            const fullyVisible = rect.top >= 0 && rect.bottom <= viewportHeight;

            if (!fullyVisible) {
              projectWindow.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          });
        }
      }
    }

    function closeProjectWindow(windowId) {
      const projectWindow = document.getElementById(windowId);
      if (projectWindow) {
        projectWindow.classList.remove('active');
      }
    }

    // Apple project window interactions
    function openAppleProject(projectWindowId) {
      // Close the work window
      const workWindow = document.getElementById('workWindow');
      if (workWindow) {
        workWindow.classList.remove('active');
      }

      // Open the selected Apple project window
      const projectWindow = document.getElementById(projectWindowId);
      if (projectWindow) {
        // Close any other open Apple project windows
        document.querySelectorAll('.apple-project-window').forEach(w => {
          w.classList.remove('active');
        });

        // Open the selected window
        projectWindow.classList.add('active');

        // Bring to front
        let zIndexCounter = 1000;
        projectWindow.style.zIndex = zIndexCounter++;
      }
    }

    // Make dock icons accessible for link elements
    document.querySelectorAll('.dock-icon').forEach(icon => {
      icon.addEventListener('click', function(e) {
        // Let links handle their own navigation
        if (this.tagName === 'A') {
          return;
        }
      });
    });

    // File Explorer folder toggle
    function toggleFolder(header) {
      const folder = header.parentElement;
      folder.classList.toggle('collapsed');

      // Update folder icon
      const icon = header.querySelector('.folder-icon');
      if (folder.classList.contains('collapsed')) {
        icon.src = 'assets/icon-folder.png'; // Closed folder icon
      } else {
        icon.src = 'assets/icon-folder.png'; // Open folder icon
      }
    }

  </script>
</body>
</html>
