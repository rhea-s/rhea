<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rhea Singh — Home Page</title>

  <!-- Preload critical images for faster rendering -->
  <link rel="preload" href="assets/avatar_no-eyes.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/avatar_eye-pupil.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/sf-background-day.png" as="image" fetchpriority="high" />
  <link rel="preload" href="assets/avatar_base-complete-transparent.png" as="image" />
  <link rel="preload" href="assets/sf-background-night.png" as="image" />

  <style>
    /* --- Base reset & layout --- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
      color: #4a0e3d;
      overflow-x: hidden;
      overflow-y: auto;
      margin: 0;
    }

    .desktop {
      position: relative;
      min-height: 1000px;
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #f48fb1 100%);
      padding: 40px 20px 60px;
    }

    /* --- Retro Window Component System --- */
    :root {
      --pink-chrome: #e5b4d4;
      --pink-border: #d89fca;
      --pink-light: #f5e6f1;
      --text-dark: #4a0e3d;
      --text-muted: #8b6b83;
      --window-shadow: 0 8px 24px rgba(74, 14, 61, 0.15);

      /* Eye tracking variables */
      --eye-left-x: 42.9%;
      --eye-left-y: 40.6%;
      --eye-right-x: 57.1%;
      --eye-right-y: 40.6%;
      --pupil-size: 15.8px;
      --pupil-radius: 2.1px;
    }

    .window {
      position: absolute;
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid var(--pink-border);
      border-radius: 8px;
      box-shadow: var(--window-shadow);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .window:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(74, 14, 61, 0.2);
    }

    .window-titlebar {
      background: var(--pink-chrome);
      padding: 8px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--pink-border);
      user-select: none;
    }

    .window-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dark);
      flex: 1;
      text-align: center;
      letter-spacing: 0.3px;
    }

    .window-controls {
      display: flex;
      gap: 6px;
    }

    .window-button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 1px solid rgba(74, 14, 61, 0.2);
      background: var(--pink-light);
      cursor: default;
    }

    .window-button.close { background: #f4a5b9; }
    .window-button.minimize { background: #f5d5e0; }
    .window-button.maximize { background: #f5e6f1; }

    .theme-toggle {
      width: 44px;
      height: 22px;
      border-radius: 11px;
      background: rgba(200, 200, 200, 0.35);
      border: none;
      position: relative;
      cursor: pointer;
      transition: background-color 0.3s ease;
      flex-shrink: 0;
    }

    .theme-toggle:hover {
      opacity: 0.8;
    }

    .theme-toggle.active {
      background: rgba(200, 200, 200, 0.35);
    }

    .theme-toggle-knob {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
    }

    .theme-toggle.active .theme-toggle-knob {
      transform: translateX(25px);
    }

    .theme-toggle-icon {
      position: absolute;
      font-size: 11px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
      pointer-events: none;
      color: #4a0e3d;
    }

    .theme-toggle-icon.moon {
      left: 6px;
    }

    .theme-toggle-icon.sun {
      right: 6px;
    }

    .window-content {
      padding: 20px;
      overflow-y: auto;
    }

    /* --- FaceTime Window (Avatar) --- */
    .facetime-window {
      width: 360px;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }

    .facetime-window:hover {
      transform: translateX(-50%) translateY(-2px);
    }

    .facetime-content {
      padding: 0;
      width: 100%;
      background-image: url('assets/sf-background-day.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .avatar-stage {
      position: relative;
      aspect-ratio: 8/7;
      display: grid;
      place-items: center;
      overflow: hidden;
      user-select: none;
      -webkit-user-drag: none;
    }

    .avatar {
      position: relative;
      z-index: 2;
      width: 120%;
      height: auto;
      transform: translateY(-40px);
      display: block;
      pointer-events: none;
    }

    .pupil {
      position: absolute;
      z-index: 1;
      width: var(--pupil-size);
      height: var(--pupil-size);
      border-radius: 50%;
      background-image: url("assets/avatar_eye-pupil.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      transform: translate(-50%, -50%);
      will-change: transform;
      transition: transform 120ms cubic-bezier(.2,.6,.2,1);
    }

    .pupil.left  { left: var(--eye-left-x); top: var(--eye-left-y); }
    .pupil.right { left: var(--eye-right-x); top: var(--eye-right-y); }

    .speech-bubble {
      position: absolute;
      bottom: 40%;
      right: 3%;
      background: white;
      color: var(--text-dark);
      padding: 10px 10px;
      border-radius: 16px;
      border: 2px solid var(--pink-border);
      box-shadow: 0 4px 12px rgba(74, 14, 61, 0.15);
      font-size: 14px;
      font-weight: 200;
      z-index: 3;
      animation: bubbleFadeIn 0.6s ease-out;
      white-space: nowrap;
    }

    @keyframes bubbleFadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes bubbleFadeUp {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(-15px);
      }
    }

    @keyframes bubbleFadeDown {
      from {
        opacity: 0;
        transform: translateY(15px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .avatar-info {
      padding: 16px;
      text-align: center;
      background: white;
      border-top: 1px solid var(--pink-border);
    }

    .avatar-name {
      font-size: 18px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .avatar-subtitle {
      font-size: 13px;
      color: var(--text-muted);
    }

    /* --- About/Education Window --- */
    .about-window {
      width: 420px;
      top: 80px;
      left: 80px;
      z-index: 5;
    }

    .section-heading {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 2px solid var(--pink-light);
    }

    .info-block {
      margin-bottom: 16px;
    }

    .info-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .info-subtitle {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .info-meta {
      font-size: 11px;
      color: var(--text-muted);
      font-style: italic;
    }

    .info-list {
      margin: 8px 0 0 0;
      padding-left: 18px;
      font-size: 12px;
      line-height: 1.6;
      color: var(--text-dark);
    }

    .info-list li {
      margin-bottom: 4px;
    }

    /* --- Experience Window --- */
    .experience-window {
      width: 480px;
      top: 540px;
      left: 37%;
      transform: translateX(-50%);
      z-index: 7;
      max-height: 400px;
    }

    .experience-window .window-content {
      max-height: 400px;
    }

    .job-item {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--pink-light);
    }

    .job-item:last-child {
      border-bottom: none;
    }

    .job-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 8px;
      gap: 12px;
    }

    .job-company {
      font-size: 14px;
      font-weight: 700;
      color: var(--text-dark);
    }

    .job-role {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .job-date {
      font-size: 11px;
      color: var(--text-muted);
      white-space: nowrap;
    }

    /* --- Skills Window --- */
    .skills-window {
      width: 340px;
      top: 380px;
      left: 100px;
      z-index: 6;
    }

    .skill-category {
      margin-bottom: 16px;
    }

    .skill-category:last-child {
      margin-bottom: 0;
    }

    .skill-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .skill-tag {
      background: var(--pink-light);
      color: var(--text-dark);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 500;
      border: 1px solid var(--pink-border);
    }

    /* --- Contact Window --- */
    .contact-window {
      width: 280px;
      top: 460px;
      right: 120px;
      z-index: 8;
    }

    .contact-link {
      display: block;
      padding: 10px 12px;
      margin-bottom: 8px;
      background: var(--pink-light);
      border: 1px solid var(--pink-border);
      border-radius: 6px;
      color: var(--text-dark);
      text-decoration: none;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .contact-link:hover {
      background: var(--pink-chrome);
      transform: translateX(4px);
    }

    .contact-link:last-child {
      margin-bottom: 0;
    }

    /* --- Extracurriculars Window --- */
    .extra-window {
      width: 380px;
      top: 100px;
      right: 80px;
      z-index: 4;
      max-height: 380px;
    }

    .extra-window .window-content {
      max-height: 380px;
    }

    .experience-window:hover {
      transform: translateX(-50%) translateY(-2px);
    }

    /* --- Accessibility --- */
    @media (pointer: coarse) {
      .pupil { display: none; }
    }

    @media (prefers-reduced-motion: reduce) {
      .pupil { transition: none; }
      .window, .contact-link { transition: none; }
      .speech-bubble { animation: none; }
    }

    /* --- Responsive Mobile Layout --- */
    @media (max-width: 1024px) {
      .desktop {
        padding: 20px 10px;
      }

      .window {
        position: relative !important;
        left: auto !important;
        right: auto !important;
        top: auto !important;
        transform: none !important;
        margin: 0 auto 20px;
        max-width: 500px;
        width: calc(100% - 20px);
      }

      .facetime-window {
        max-width: 360px;
      }

      .experience-window,
      .about-window {
        max-height: none;
      }

      .experience-window .window-content {
        max-height: none;
      }

      .avatar {
        transform: translateY(-25px);
      }
    }

    @media (max-width: 480px) {
      .window-content {
        padding: 14px;
      }

      .facetime-window {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="desktop">

    <!-- FaceTime Window (Avatar) -->
    <div class="window facetime-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Rhea is calling...</div>
        <div class="theme-toggle active" id="themeToggle" title="Toggle day/night">
          <span class="theme-toggle-icon moon">⏾</span>
          <span class="theme-toggle-icon sun">𖤓</span>
          <div class="theme-toggle-knob"></div>
        </div>
      </div>
      <div class="window-content facetime-content">
        <div class="avatar-stage" id="stage">
          <div class="pupil left" id="pupilL"></div>
          <div class="pupil right" id="pupilR"></div>
          <img class="avatar" id="avatarImg" src="assets/avatar_no-eyes.png" alt="Rhea Singh avatar" />
          <div class="speech-bubble">hello world!</div>
        </div>
        <div class="avatar-info">
          <div class="avatar-name">Rhea Singh</div>
          <div class="avatar-subtitle">Software Engineer · Product/UX · Visual Storyteller</div>
        </div>
      </div>
    </div>

    <!-- About/Education Window -->
    <div class="window about-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">About.txt</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="section-heading">Education</div>
        <div class="info-block">
          <div class="info-title">University of Michigan, College of Engineering</div>
          <div class="info-subtitle">B.S. in Computer Science, History Minor</div>
          <div class="info-meta">2016 - 2020 | Ann Arbor, MI</div>
          <ul class="info-list">
            <li>Data Structures & Algorithms, Computer Security, Discrete Math</li>
            <li>Computer Architecture, Linear Algebra, Probability & Statistics</li>
            <li>Web Systems, Operating Systems, UI Development</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Experience Window -->
    <div class="window experience-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Experience</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Apple</div>
              <div class="job-role">Software Engineer</div>
            </div>
            <div class="job-date">Aug 2020 - Sept 2025<br>Cupertino, CA</div>
          </div>
          <ul class="info-list">
            <li>Designed and implemented unique system architecture to enable new features and improve Health algorithms</li>
            <li>Collaborated with research scientists and cross-functional teams to successfully run clinical validation studies for FDA-regulated iOS and watchOS features</li>
            <li>Developed user study apps to measure performance of various proposed Health and Fitness features</li>
            <li>Helped plan and execute multi-year feature tentpole, continuously evaluating progress and feasibility, meeting strict deadlines to fulfill executive-level vision</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Capital One</div>
              <div class="job-role">Tech Intern</div>
            </div>
            <div class="job-date">June - Aug 2019<br>Chicago, IL</div>
          </div>
          <ul class="info-list">
            <li>Improved user experience for new partnership application based on feedback from previous rollouts</li>
            <li>Developed metrics for team efficiency in the development process</li>
            <li>Designed a beautiful, easy-to-understand data visualization tool of team's Github pull request process</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Blablablab (UMich)</div>
              <div class="job-role">Undergraduate Researcher</div>
            </div>
            <div class="job-date">2018 - 2020<br>Ann Arbor, MI</div>
          </div>
          <ul class="info-list">
            <li>Scraped Wikipedia for all people with pages and identified gender based on names and pronouns</li>
            <li>Applied NLP techniques to derive statistically significant differences in language used dependent on gender</li>
            <li>Thought critically in collaboration with professor about data and potential biases</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Skills Window -->
    <div class="window skills-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Skills</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="skill-category">
          <div class="section-heading">Back-End</div>
          <div class="skill-tags">
            <span class="skill-tag">C/C++</span>
            <span class="skill-tag">Python</span>
            <span class="skill-tag">SQL</span>
            <span class="skill-tag">REST APIs</span>
            <span class="skill-tag">Objective-C</span>
          </div>
        </div>

        <div class="skill-category">
          <div class="section-heading">Front-End</div>
          <div class="skill-tags">
            <span class="skill-tag">HTML5</span>
            <span class="skill-tag">CSS</span>
            <span class="skill-tag">JavaScript</span>
            <span class="skill-tag">React</span>
            <span class="skill-tag">Swift</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Window -->
    <div class="window contact-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Contact</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <a href="mailto:singh.rhea.04@gmail.com" class="contact-link">📧 Email</a>
        <a href="https://linkedin.com/in/rheas" class="contact-link" target="_blank">💼 LinkedIn</a>
      </div>
    </div>

    <!-- Extracurriculars Window -->
    <div class="window extra-window">
      <div class="window-titlebar">
        <div class="window-controls">
          <div class="window-button close"></div>
          <div class="window-button minimize"></div>
          <div class="window-button maximize"></div>
        </div>
        <div class="window-title">Extracurriculars</div>
        <div style="width: 54px;"></div>
      </div>
      <div class="window-content">
        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">ICPC (Programming Contest)</div>
              <div class="job-role">Participant</div>
            </div>
            <div class="job-date">Sept 2018 - 2020</div>
          </div>
          <ul class="info-list">
            <li>Qualified for ICPC State Level with team of three</li>
            <li>Placed in top five, working on challenging programming questions</li>
          </ul>
        </div>

        <div class="job-item">
          <div class="job-header">
            <div>
              <div class="job-company">Michigan Research Community</div>
              <div class="job-role">Peer Mentor</div>
            </div>
            <div class="job-date">Sept 2016 - May 2018</div>
          </div>
          <ul class="info-list">
            <li>Guided first-time undergraduate research students in navigating project search and research path</li>
            <li>Provided support, monthly meetings, and guidance with research posters</li>
          </ul>
        </div>
      </div>
    </div>

  </div>

  <script>
    // Eye-tracking logic with rAF throttling and clamped movement within a circle.
    (function () {
      const stage = document.getElementById('stage');
      const left = document.getElementById('pupilL');
      const right = document.getElementById('pupilR');
      const avatarImg = document.getElementById('avatarImg');

      // Respect: reduced motion and non-fine pointers (phones/tablets)
      const motionOK = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const finePointer = window.matchMedia('(pointer: fine)').matches;

      // If on mobile (coarse pointer), use the complete avatar with eyes
      if (!finePointer) {
        avatarImg.src = 'assets/avatar_base-complete-transparent.png';
      }

      if (!motionOK || !finePointer) return; // bail out

      const MAX = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--pupil-radius')) || 7;

      let queued = false;
      let lastEvent = null;

      function clampMove(pupil, center) {
        const rect = stage.getBoundingClientRect();
        // Cursor position relative to stage
        const x = lastEvent.clientX - rect.left;
        const y = lastEvent.clientY - rect.top;

        const dx = x - center.x;
        const dy = y - center.y;
        const dist = Math.hypot(dx, dy) || 1;
        const m = Math.min(MAX, dist);
        const nx = (dx / dist) * m;
        const ny = (dy / dist) * m;

        pupil.style.transform = `translate(calc(-50% + ${nx}px), calc(-50% + ${ny}px))`;
      }

      function getCenter(pupil) {
        const r = pupil.getBoundingClientRect();
        return { x: r.left + r.width / 2 - stage.getBoundingClientRect().left,
                 y: r.top + r.height / 2 - stage.getBoundingClientRect().top };
      }

      function onMove(e) {
        lastEvent = e;
        if (!queued) {
          queued = true;
          requestAnimationFrame(() => {
            const cL = getCenter(left);
            const cR = getCenter(right);
            clampMove(left,  cL);
            clampMove(right, cR);
            queued = false;
          });
        }
      }

      function recenter() {
        left.style.transform = 'translate(-50%, -50%)';
        right.style.transform = 'translate(-50%, -50%)';
      }

      document.addEventListener('mousemove', onMove);
      window.addEventListener('resize', recenter);
    })();

    // Window click-to-front functionality
    (function () {
      const windows = document.querySelectorAll('.window');
      let zIndexCounter = 100;

      windows.forEach(window => {
        window.addEventListener('click', function() {
          zIndexCounter++;
          this.style.zIndex = zIndexCounter;
        });
      });
    })();

    // Theme toggle for FaceTime background
    (function () {
      const toggle = document.getElementById('themeToggle');
      const facetimeContent = document.querySelector('.facetime-content');
      const speechBubble = document.querySelector('.speech-bubble');
      let isDayMode = true;

      // Check if reduced motion is preferred
      const motionOK = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      toggle.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent triggering window click-to-front
        isDayMode = !isDayMode;

        // Animate speech bubble text change
        if (motionOK && speechBubble) {
          // Fade up and out
          speechBubble.style.animation = 'bubbleFadeUp 0.3s ease-out forwards';

          setTimeout(() => {
            // Change text content
            speechBubble.textContent = isDayMode ? 'hello world!' : 'gn, world :)';
            // Fade down and in
            speechBubble.style.animation = 'bubbleFadeDown 0.3s ease-out forwards';
          }, 300);
        } else if (speechBubble) {
          // No animation, just change text
          speechBubble.textContent = isDayMode ? 'hello world!' : 'gn, world :)';
        }

        // Change background
        if (isDayMode) {
          facetimeContent.style.backgroundImage = "url('assets/sf-background-day.png')";
          toggle.classList.add('active');
        } else {
          facetimeContent.style.backgroundImage = "url('assets/sf-background-night.png')";
          toggle.classList.remove('active');
        }
      });
    })();
  </script>
</body>
</html>
